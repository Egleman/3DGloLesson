(()=>{"use strict";function e({timing:e,draw:t,duration:r}){let l=performance.now();requestAnimationFrame((function a(c){let o=(c-l)/r;o>1&&(o=1);let n=e(o);t(n),o<1&&requestAnimationFrame(a)}))}(e=>{let t=document.querySelector("#timer-hours"),r=document.querySelector("#timer-minutes"),l=document.querySelector("#timer-seconds"),a=null;const c=e=>e<10?"0"+e:e,o=()=>{let e=(()=>{let e=(new Date("31 december 2021").getTime()-(new Date).getTime())/1e3,t=Math.floor(e/60/60),r=Math.floor(e/60%60),l=Math.floor(e%60);return e<=0&&(clearInterval(a),t=0,r=0,l=0),{timeRemaining:e,hours:t,minutes:r,seconds:l}})();t.textContent=c(e.hours),r.textContent=c(e.minutes),l.textContent=c(e.seconds)};o(),a=setInterval(o,1e3)})(),(()=>{const e=document.querySelector("menu"),t=document.querySelector("main"),r=()=>{e.classList.toggle("active-menu")};document.body.addEventListener("click",(l=>{let a=l.target,c=a==e||e.contains(a),o=e.classList.contains("active-menu");if(a.closest(".menu"))r();else if(a.closest(".close-btn"))r();else if(a.closest('a[href*="#"]')&&t.contains(a)){l.preventDefault();const e=a.closest('a[href*="#"]').getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"})}else if(a.closest('a[href*="#"]')&&e.contains(a)){l.preventDefault();const e=a.getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"}),r()}else!c&&o&&r()}))})(),(()=>{const t=document.querySelectorAll(".popup-btn"),r=document.querySelector(".popup");t.forEach((t=>{t.addEventListener("click",(()=>{window.screen.width<768?r.style.display="block":(r.style.display="block",r.style.opacity="0",e({duration:500,timing:e=>e,draw(e){r.style.opacity=e}}))}))})),r.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(r.style.display="none")}))})(),(()=>{const e=document.querySelectorAll(".calc-item"),t=document.querySelectorAll(".form-name"),r=document.querySelectorAll(".form-phone"),l=document.querySelectorAll(".form-email"),a=document.querySelector("#form2-name"),c=document.querySelector("#form2-message");function o(e){return(e=(e=(e=(e=(e=e.replace(/\s+/g," ")).replace(/-+/g,"-")).replace(/\(+/g,"(")).replace(/\)+/g,")")).replace(/^[ |\-+]/g,"")).replace(/[ |\-+]$/g,"")}e.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^\d.]/g,"")}))})),t.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^а-яё \-]/gi,""),t=o(t),t=t.replace(/( |^)[ а-яё]/g,(e=>e.toUpperCase())),e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^а-яё \-]/gi,"")}))})),l.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^A-Za-z-@!.*~']/g,""),t=o(t),e.target.value="",e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^A-Za-z-@!.*~']/g,"")}))})),r.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^\d-)(]/g,""),t=o(t),e.target.value="",e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^\d-)(]/g,"")}))})),a.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^а-яё \-]/gi,""),t=o(t),t=t.replace(/( |^)[ а-яё]/g,(e=>e.toUpperCase())),e.target.value=t})),a.addEventListener("input",(()=>{a.value=a.value.replace(/[^а-яё \-]/gi,"")})),c.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^а-яё \-]/gi,""),t=o(t),e.target.value="",e.target.value=t})),c.addEventListener("input",(()=>{c.value=c.value.replace(/[^а-яё \-]/gi,"")}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-tab"),r=document.querySelectorAll(".service-header-tab");e.addEventListener("click",(e=>{if(e.target.closest(".service-header-tab")){const l=e.target.closest(".service-header-tab");r.forEach(((e,r)=>{e===l?(e.classList.add("active"),t[r].classList.remove("d-none")):(e.classList.remove("active"),t[r].classList.add("d-none"))}))}}))})(),((e,t,r,l,a,c,o,n,s)=>{const u=document.querySelector(`.${s}`);let i,d=document.querySelectorAll(`.${r}`),m=document.querySelector(`.${n}`),v=0;const g=(e,t,r)=>{e[t].classList.remove(r)},p=(e,t,r)=>{e[t].classList.add(r)},y=()=>{let r=document.querySelectorAll(`.${e}`);g(d,v,l),g(r,v,t),v++,v>=d.length&&(v=0),p(d,v,l),p(r,v,t)},h=(e=1500)=>{i=setInterval(y,e)};u.addEventListener("click",(r=>{r.preventDefault();let n=document.querySelectorAll(`.${e}`);r.target.matches(`.${e}, .${a}`)&&(g(d,v,l),g(n,v,t),r.target.matches(`#${c}`)?v++:r.target.matches(`#${o}`)?v--:r.target.classList.contains(e)&&n.forEach(((e,t)=>{r.target===e&&(v=t)})),v>=d.length&&(v=0),v<0&&(v=d.length-1),p(d,v,l),p(n,v,t))})),u.addEventListener("mouseenter",(t=>{t.target.matches(`.${e}, .${a}`)&&clearInterval(i)}),!0),u.addEventListener("mouseleave",(t=>{t.target.matches(`.${e}, .${a}`)&&h(2e3)}),!0),u&&d&&m&&((()=>{d=document.querySelectorAll(`.${r}`),m=document.querySelector(`.${n}`);for(let t=0;t<d.length;t++){let t=document.createElement("li");t.classList.add(e),m.append(t)}m.children[0].classList.add(`${t}`)})(),h(2e3))})("dot","dot-active","portfolio-item","portfolio-item-active","portfolio-btn","arrow-right","arrow-left","portfolio-dots","portfolio-content"),((t=100)=>{const r=document.querySelector(".calc-block"),l=document.querySelector(".calc-type"),a=document.querySelector(".calc-square"),c=document.querySelector(".calc-count"),o=document.querySelector(".calc-day"),n=document.querySelector("#total");r.addEventListener("input",(r=>{r.target!==l&&r.target!==a&&r.target!==c&&r.target!==o||(()=>{const r=+l.options[l.selectedIndex].value,s=a.value;let u=0,i=1,d=1;c.value>1&&(i+=+c.value/10),o.value&&o.value<5?d=2:o.value&&o.value<10&&(d=1.5),u=l.value&&a.value?t*r*s*i*d:0,e({duration:1e3,timing:e=>e,draw(e){n.textContent=Math.round(e*u)}})})()}))})()})();